<!-- src/app/compartido/componentes/modal/modal.component.html -->
<div class="modal-overlay" *ngIf="isOpen" (click)="close()">
  <div [class]="getModalClass()" (click)="$event.stopPropagation()">
    
    <!-- Header -->
    <div class="modal-header">
      <div class="modal-icon">{{ getIconClass() }}</div>
      <h2 class="modal-title">{{ config.title }}</h2>
      <button class="modal-close-btn" (click)="close()" aria-label="Cerrar">
        âœ•
      </button>
    </div>

    <!-- Body -->
    <div class="modal-body">
      <!-- Mensaje simple -->
      <p *ngIf="config.message" class="modal-message">{{ config.message }}</p>

      <!-- Contenido personalizado para detalles de vehÃ­culo -->
      <div *ngIf="config.type === 'detail' && config.data" class="vehicle-details">
        <div class="detail-row">
          <span class="detail-label">ğŸ…¿ï¸ Espacio:</span>
          <span class="detail-value">E-{{ config.data.espacioNumero < 10 ? '0' + config.data.espacioNumero : config.data.espacioNumero }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ğŸš— Placa:</span>
          <span class="detail-value placa">{{ config.data.placa }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ğŸ‘¤ Propietario:</span>
          <span class="detail-value">{{ config.data.propietario }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ğŸš™ Tipo:</span>
          <span class="detail-value">{{ config.data.tipo }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">ğŸ• Entrada:</span>
          <span class="detail-value">{{ config.data.horaEntrada }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">â±ï¸ Tiempo:</span>
          <span class="detail-value">{{ config.data.duracion }}</span>
        </div>
        <div class="detail-row highlight">
          <span class="detail-label">ğŸ’° Costo actual:</span>
          <span class="detail-value cost">S/. {{ config.data.costo }}</span>
        </div>
      </div>

      <!-- Contenido para confirmaciÃ³n de salida -->
      <div *ngIf="config.type === 'confirm' && config.data" class="confirm-details">
        <div class="confirm-info">
          <p><strong>ğŸš— VehÃ­culo:</strong> {{ config.data.placa }}</p>
          <p><strong>ğŸ…¿ï¸ Espacio:</strong> E-{{ config.data.espacioNumero < 10 ? '0' + config.data.espacioNumero : config.data.espacioNumero }}</p>
          <p><strong>ğŸ‘¤ Propietario:</strong> {{ config.data.propietario }}</p>
          <p><strong>â±ï¸ DuraciÃ³n:</strong> {{ config.data.duracion }}</p>
          <p class="cost-highlight"><strong>ğŸ’° Costo a pagar:</strong> S/. {{ config.data.costo }}</p>
        </div>
      </div>

      <!-- Contenido para ticket de salida -->
      <div *ngIf="config.type === 'success' && config.data" class="ticket">
        <div class="ticket-header">
          <h3>ğŸ« TICKET DE SALIDA</h3>
        </div>
        <div class="ticket-body">
          <div class="ticket-row">
            <span>ğŸš— Placa:</span>
            <span class="ticket-value">{{ config.data.placa }}</span>
          </div>
          <div class="ticket-row">
            <span>ğŸ‘¤ Propietario:</span>
            <span class="ticket-value">{{ config.data.propietario }}</span>
          </div>
          <div class="ticket-row">
            <span>â±ï¸ DuraciÃ³n:</span>
            <span class="ticket-value">{{ config.data.duracion }}</span>
          </div>
          <div class="ticket-divider"></div>
          <div class="ticket-row total">
            <span>ğŸ’° TOTAL A PAGAR:</span>
            <span class="ticket-total">S/. {{ config.data.costo }}</span>
          </div>
        </div>
        <div class="ticket-footer">
          <p>Â¡Gracias por su preferencia!</p>
          <p class="ticket-date">{{ config.data.fecha }}</p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="modal-footer">
      <button 
        *ngIf="config.showCancel && config.type === 'confirm'" 
        class="modal-btn modal-btn-cancel" 
        (click)="cancel()">
        {{ config.cancelText }}
      </button>
      <button 
        class="modal-btn modal-btn-confirm" 
        [class.modal-btn-success]="config.type === 'success'"
        [class.modal-btn-danger]="config.type === 'confirm'"
        (click)="confirm()">
        {{ config.confirmText }}
      </button>
    </div>

  </div>
</div>